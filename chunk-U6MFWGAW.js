import{a as V,b as L}from"./chunk-S2TNKNIE.js";import{a as k}from"./chunk-EYFWXJJA.js";import{a as O,b as P,c as T,d as R,e as W,f as D,h as q,i as j,j as A,m as B,n as G}from"./chunk-5DLFTWDC.js";import{$a as S,Ab as I,Ba as w,Fa as g,Ma as s,Oa as e,Pa as t,Ra as x,Sa as C,Ta as _,Va as M,Wa as i,X as d,Xa as u,Y as c,Ya as E,_a as f,a as h,ab as v,sa as m,wa as y,wb as N,xb as F}from"./chunk-V4WTADHK.js";function H(n,l){if(n&1&&(e(0,"option",20),i(1),t()),n&2){let o=l.$implicit;s("value",o.role),m(),E(" ",o.role," ")}}function J(n,l){if(n&1&&(e(0,"div",21),i(1),t()),n&2){let o=_();m(),E(" ",o.successMessage," ")}}function K(n,l){if(n&1&&(e(0,"tr")(1,"td",18),i(2),t(),e(3,"td",18),i(4),t()()),n&2){let o=l.$implicit;m(2),u(o.name),m(2),u(o.role)}}var z=class n{constructor(l,o){this.employeeStorageService=l;this.commissionStorageService=o}employees=[];commissionParameters=[];newEmployee=this.getEmptyEmployee();successMessage="";ngOnInit(){this.employees=this.employeeStorageService.load(),this.commissionParameters=this.commissionStorageService.load()}saveEmployee(){this.newEmployee.id=V(),this.employees.push(h({},this.newEmployee)),this.employeeStorageService.save(this.employees),this.successMessage="\xA1Empleado registrado exitosamente!",this.newEmployee=this.getEmptyEmployee(),setTimeout(()=>{this.successMessage=""},3e3)}getEmptyEmployee(){return{id:"",name:"",role:""}}static \u0275fac=function(o){return new(o||n)(y(L),y(k))};static \u0275cmp=w({type:n,selectors:[["app-employees"]],decls:36,vars:6,consts:[["employeeForm","ngForm"],[1,"p-6","max-w-4xl","mx-auto","bg-white","rounded-lg","shadow"],[1,"text-2xl","font-bold","mb-4"],["aria-labelledby","employees-section"],[1,"space-y-4","mb-6",3,"ngSubmit"],["id","employees-section",1,"sr-only"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","name","employeeName","required","","placeholder","Nombre del empleado",1,"border","p-2","rounded","w-full",3,"ngModelChange","ngModel"],["name","role","required","",1,"border","p-2","rounded","w-full",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"pt-4"],["type","submit",1,"bg-green-500","text-white","px-4","py-2","rounded",3,"disabled"],["class","text-green-600 mt-4",4,"ngIf"],[1,"mt-8"],[1,"text-xl","font-bold","mb-4"],[1,"min-w-full","border","text-center"],[1,"bg-gray-100"],[1,"border","px-4","py-2"],[4,"ngFor","ngForOf"],[3,"value"],[1,"text-green-600","mt-4"]],template:function(o,r){if(o&1){let p=x();e(0,"main",1)(1,"header")(2,"h2",2),i(3,"Gesti\xF3n de Empleados"),t()(),e(4,"section",3)(5,"form",4,0),C("ngSubmit",function(){return d(p),c(r.saveEmployee())}),e(7,"fieldset")(8,"legend",5),i(9," Registro de empleado "),t(),e(10,"div",6)(11,"label")(12,"span",7),i(13,"Nombre del empleado"),t(),e(14,"input",8),v("ngModelChange",function(a){return d(p),S(r.newEmployee.name,a)||(r.newEmployee.name=a),c(a)}),t()(),e(15,"label")(16,"span",7),i(17,"Rol del empleado"),t(),e(18,"select",9),v("ngModelChange",function(a){return d(p),S(r.newEmployee.role,a)||(r.newEmployee.role=a),c(a)}),g(19,H,2,2,"option",10),t()()(),e(20,"div",11)(21,"button",12),i(22," Registrar Empleado "),t()(),g(23,J,2,1,"div",13),t()()(),e(24,"section",14)(25,"h3",15),i(26,"Empleados Registrados"),t(),e(27,"table",16)(28,"thead",17)(29,"tr")(30,"th",18),i(31,"Nombre"),t(),e(32,"th",18),i(33,"Rol"),t()()(),e(34,"tbody"),g(35,K,5,2,"tr",19),t()()()()}if(o&2){let p=M(6);m(14),f("ngModel",r.newEmployee.name),m(4),f("ngModel",r.newEmployee.role),m(),s("ngForOf",r.commissionParameters),m(2),s("disabled",!p.form.valid),m(2),s("ngIf",r.successMessage),m(12),s("ngForOf",r.employees)}},dependencies:[I,N,F,G,D,j,A,O,q,P,T,B,W,R],encapsulation:2})};export{z as EmployeesComponent};
