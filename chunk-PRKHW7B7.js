import{a as A}from"./chunk-EYFWXJJA.js";import{a as E,b as F,c as N,d as I,e as T,f as k,g as W,k as D,l as O,m as R,n as q}from"./chunk-5DLFTWDC.js";import{$a as v,Ab as V,Ba as w,Fa as g,Ma as c,Oa as r,Pa as i,Ra as f,Sa as u,Ta as _,Ua as C,Va as y,Wa as a,X as p,Y as d,Ya as S,_a as x,ab as b,sa as l,wa as h,wb as P,xb as M}from"./chunk-V4WTADHK.js";function G(s,m){if(s&1){let t=f();r(0,"div",11)(1,"label",12)(2,"span",13),a(3,"Rol del vendedor"),i(),r(4,"input",14),b("ngModelChange",function(e){let o=p(t).$implicit;return v(o.role,e)||(o.role=e),d(e)}),i()(),r(5,"label",15)(6,"span",13),a(7,"% Comisi\xF3n"),i(),r(8,"input",16),b("ngModelChange",function(e){let o=p(t).$implicit;return v(o.percentage,e)||(o.percentage=e),d(e)}),i()(),r(9,"button",17),u("click",function(){let e=p(t).index,o=_();return d(o.removeParameter(e))}),a(10," Eliminar "),i()()}if(s&2){let t=m.$implicit,n=m.index;l(4),C("name","role",n,""),x("ngModel",t.role),l(4),C("name","percentage",n,""),x("ngModel",t.percentage)}}function L(s,m){if(s&1&&(r(0,"div",18),a(1),i()),s&2){let t=_();l(),S(" ",t.successMessage," ")}}var B=class s{constructor(m){this.storageService=m}parameters=[];successMessage="";ngOnInit(){this.parameters=this.storageService.load(),this.parameters.length===0&&this.parameters.push({role:"",percentage:0})}addParameter(){this.parameters.push({role:"",percentage:0})}removeParameter(m){this.parameters.splice(m,1)}saveParameters(){this.storageService.save(this.parameters),this.successMessage="\xA1Par\xE1metros guardados exitosamente!",setTimeout(()=>this.successMessage="",3e3)}static \u0275fac=function(t){return new(t||s)(h(A))};static \u0275cmp=w({type:s,selectors:[["app-commission-parameters"]],decls:17,vars:3,consts:[["commissionForm","ngForm"],[1,"p-6","max-w-xl","mx-auto","bg-white","rounded-lg","shadow"],[1,"text-2xl","font-bold","mb-4"],["aria-labelledby","parameters-section"],[1,"space-y-4",3,"ngSubmit"],["id","parameters-section",1,"sr-only"],["class","flex items-center space-x-4",4,"ngFor","ngForOf"],[1,"pt-4"],["type","button",1,"bg-blue-500","text-white","px-4","py-2","rounded","mr-2",3,"click"],["type","submit",1,"bg-green-500","text-white","px-4","py-2","rounded",3,"disabled"],["class","text-green-600 mt-4",4,"ngIf"],[1,"flex","items-center","space-x-4"],[1,"w-1/2"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","required","","placeholder","Rol del vendedor",1,"border","p-2","rounded","w-full",3,"ngModelChange","ngModel","name"],[1,"w-1/3"],["type","number","required","","min","0","max","100","placeholder","% Comisi\xF3n",1,"border","p-2","rounded","w-full",3,"ngModelChange","ngModel","name"],["type","button",1,"text-red-500","mt-6",3,"click"],[1,"text-green-600","mt-4"]],template:function(t,n){if(t&1){let e=f();r(0,"main",1)(1,"header")(2,"h2",2),a(3,"Parametrizaci\xF3n de Comisiones"),i()(),r(4,"section",3)(5,"form",4,0),u("ngSubmit",function(){return p(e),d(n.saveParameters())}),r(7,"fieldset")(8,"legend",5),a(9," Par\xE1metros de comisiones "),i(),g(10,G,11,6,"div",6),i(),r(11,"div",7)(12,"button",8),u("click",function(){return p(e),d(n.addParameter())}),a(13," Agregar Rol "),i(),r(14,"button",9),a(15," Guardar Par\xE1metros "),i()(),g(16,L,2,1,"div",10),i()()()}if(t&2){let e=y(6);l(10),c("ngForOf",n.parameters),l(4),c("disabled",!e.form.valid),l(2),c("ngIf",n.successMessage)}},dependencies:[q,k,E,W,F,N,R,O,D,T,I,V,P,M],encapsulation:2})};export{B as CommissionParametersComponent};
