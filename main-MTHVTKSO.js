import{a as h,b as M}from"./chunk-S2TNKNIE.js";import{a as k}from"./chunk-I7NFFR3C.js";import{a as D}from"./chunk-EYFWXJJA.js";import{a as b,b as u,c as I,d as A,e as E,f as L,g as d}from"./chunk-23FMJ7W5.js";import{Ba as c,L as y,Oa as i,Pa as r,Q as s,Qa as l,R as S,Sa as C,Wa as m,gb as x,wa as p}from"./chunk-V4WTADHK.js";var v=class e{constructor(o){this.authService=o}onLogout(){this.authService.logout()}static \u0275fac=function(t){return new(t||e)(p(d))};static \u0275cmp=c({type:e,selectors:[["app-layout"]],decls:16,vars:0,consts:[[1,"flex","min-h-screen"],[1,"w-64","bg-gray-800","text-white","p-4"],[1,"space-y-4"],["routerLink","/sales",1,"block","hover:bg-gray-700","rounded","px-3","py-2"],["routerLink","/employees",1,"block","hover:bg-gray-700","rounded","px-3","py-2"],["routerLink","/commission-parameters",1,"block","hover:bg-gray-700","rounded","px-3","py-2"],["routerLink","/calculate-commissions",1,"block","hover:bg-gray-700","rounded","px-3","py-2"],[1,"mt-8","border-t","border-gray-600","pt-4"],[1,"w-full","text-left","px-3","py-2","bg-red-600","hover:bg-red-700","rounded",3,"click"],[1,"flex-1","p-6","bg-gray-100"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"aside",1)(2,"nav",2)(3,"a",3),m(4,"Ventas"),r(),i(5,"a",4),m(6,"Empleados"),r(),i(7,"a",5),m(8,"Par\xE1metros de comisiones"),r(),i(9,"a",6),m(10,"Calcular comisiones"),r()(),i(11,"div",7)(12,"button",8),C("click",function(){return n.onLogout()}),m(13," Logout "),r()()(),i(14,"main",9),l(15,"router-outlet"),r()())},dependencies:[L,u,A],encapsulation:2})};var j=()=>{let e=S(d),o=S(I);return e.isAuthenticated()?!0:(o.navigate(["/login"]),!1)};var R=[{path:"",component:v,canActivate:[j],children:[{path:"sales",loadComponent:()=>import("./chunk-IMEANJLW.js").then(e=>e.SalesComponent)},{path:"employees",loadComponent:()=>import("./chunk-U6MFWGAW.js").then(e=>e.EmployeesComponent)},{path:"commission-parameters",loadComponent:()=>import("./chunk-PRKHW7B7.js").then(e=>e.CommissionParametersComponent)},{path:"calculate-commissions",loadComponent:()=>import("./chunk-D2J25WYB.js").then(e=>e.CalculateCommissionsComponent)}]},{path:"login",loadComponent:()=>import("./chunk-3LHBNXWS.js").then(e=>e.LoginComponent)}];var w={providers:[x({eventCoalescing:!0}),E(R)]};var f=class e{constructor(o,t,n){this.commissionStorageService=o;this.employeeStorageService=t;this.salesStorageService=n}initialize(){this.initCommissionParameters(),this.initEmployees(),this.initSales()}initCommissionParameters(){if(this.commissionStorageService.load().length===0){let t=[{role:"Junior",percentage:5},{role:"Senior",percentage:10},{role:"Manager",percentage:15}];this.commissionStorageService.save(t)}}initEmployees(){if(this.employeeStorageService.load().length===0){let t=["Junior","Senior","Manager"],a=["Brahian","Mateo","Javier","Jeisson","Wilmer"].map(z=>({id:h(),name:z,role:t[Math.floor(Math.random()*t.length)]}));this.employeeStorageService.save(a)}}initSales(){if(this.salesStorageService.load().length===0){let n=this.employeeStorageService.load().map(a=>({id:h(),employeeId:a.id,employeeName:a.name,role:a.role,amount:Math.floor(Math.random()*5e3+1e3),date:new Date().toISOString().split("T")[0]}));this.salesStorageService.save(n)}}static \u0275fac=function(t){return new(t||e)(s(D),s(M),s(k))};static \u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})};var g=class e{constructor(o){this.dataInitializerService=o}title="university-psp";ngOnInit(){this.dataInitializerService.initialize()}static \u0275fac=function(t){return new(t||e)(p(f))};static \u0275cmp=c({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,n){t&1&&l(0,"router-outlet")},dependencies:[u],encapsulation:2})};b(g,w).catch(e=>console.error(e));
