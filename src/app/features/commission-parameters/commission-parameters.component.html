<div class="p-6 max-w-xl mx-auto bg-white rounded-lg shadow">
  <h2 class="text-2xl font-bold mb-4">Parametrización de Comisiones</h2>

  <form
    (ngSubmit)="saveParameters()"
    #commissionForm="ngForm"
    class="space-y-4"
  >
    <div
      *ngFor="let param of parameters; let i = index"
      class="flex items-center space-x-4"
    >
      <input
        type="text"
        [(ngModel)]="param.role"
        name="role{{ i }}"
        required
        placeholder="Rol del vendedor"
        class="border p-2 rounded w-1/2"
      />

      <input
        type="number"
        [(ngModel)]="param.percentage"
        name="percentage{{ i }}"
        required
        min="0"
        max="100"
        placeholder="% Comisión"
        class="border p-2 rounded w-1/3"
      />

      <button type="button" (click)="removeParameter(i)" class="text-red-500">
        Eliminar
      </button>
    </div>

    <div class="pt-4">
      <button
        type="button"
        (click)="addParameter()"
        class="bg-blue-500 text-white px-4 py-2 rounded mr-2"
      >
        Agregar Rol
      </button>
      <button
        type="submit"
        [disabled]="!commissionForm.form.valid"
        class="bg-green-500 text-white px-4 py-2 rounded"
      >
        Guardar Parámetros
      </button>
    </div>

    <div *ngIf="successMessage" class="text-green-600 mt-4">
      {{ successMessage }}
    </div>
  </form>
</div>
